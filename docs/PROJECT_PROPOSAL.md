# プロジェクト企画書: Strata.co

## 1. プロダクトビジョン

**「サブスクの海に、自分だけの『レコード棚』を取り戻す」**

巨大プラットフォームのAIが弾き出す「あなたへのおすすめ」は、確かに効率的で外れがありません。しかし、それは同時に音楽から「偶然の出会い」と「内省の時間」を奪い去りました。Spotify Wrapped 2024はAIが架空のジャンル名を生成し、ユーザーから「AIスロップ」と批判された。プラットフォームは自分のデータすら正直に返さなくなっている。

本プロダクトは、消費されるだけのプレイリストと、AIが捏造する「あなたらしさ」に対するアンチテーゼです。他者の介在やソーシャルなノイズを完全に排除し、「自分と音楽」という純粋な1対1の関係性を再構築します。ユーザー自身の「いつ、どれだけ深く潜ったか」という熱量の履歴を地層（Strata）のように蓄積し、将来的にはBPMやキーといった楽曲の構造データも重ねていくパーソナル・アーカイブ。AI生成の嘘ではなく、自分の本物のデータだけで音楽体験を真の意味で所有するためのツールです。

## 2. ターゲット・ユーザー

- **スキップボタンに疲れた音楽ファン**: 「Discover Weeklyが毎週同じような曲ばかり」「Wrappedが架空のジャンル名を表示した」——アルゴリズムとAIが押し付ける「あなたらしさ」に不信感を持ち、能動的に音楽と対峙したい層。
- **記憶のコレクター**: 特定の曲を聴くと、過去の自己の内面や情景が鮮明に蘇るという、音楽と記憶が強く結びついている層。Wrappedが年1回のスナップショットしか提供しないことに物足りなさを感じ、通年で自分の音楽史を振り返りたい人々。
- **データ・ギーク**: 「Spotifyに再生履歴を請求したら30日待たされた挙句、破損したJSONが届いた」——自分自身のデータなのにプラットフォームが人質に取っている現状に憤り、独自の切り口で分析・再構築したいITリテラシーの高い層。stats.fmは使ったが「5秒ごとにPremiumを勧めてくる」UIに辟易している。

## 3. コア・エクスペリエンス

### 3.1 フェーズ1: 真のパーソナル・データベース (The Foundation) — MVP

プラットフォームに人質に取られている「自分の履歴」を奪還する。

#### The Vault（統合ライブラリ）

再生回数、ジャケット画像、ジャンルを網羅した、ライブラリ全体の「地層」を俯瞰できるインターフェース。ユーザーは自分の音楽的な「地層」を掘り下げ、過去の熱量を視覚的に把握できる。

#### Fandom Heatmap（熱狂の地層）

「あの夏、ずっと真夜中でいいのに。を狂ったように聴いていた」といった過去の局所的な熱狂を、GitHubの草（コントリビューショングラフ）のように可視化する。

#### リスニングパターン

時間帯別・曜日別・季節別の再生傾向を分析し、自分でも気づいていなかった聴取行動のパターンを発見する。

### 3.2 フェーズ2: 継続記録と熱量の深掘り (Depth & Continuity)

蓄積されたデータを拡張し、より深い分析を可能にする。

#### Continuous Scrobbling（純粋な継続的監視）

ユーザーの再生履歴をバックグラウンドで24時間監視・蓄積。他者の存在（誰といたか等）や外部環境に依存せず、「いつ、どの曲を、何回リピートしたか」という純粋な再生行動のみを克明に記録し続ける。

#### Sonic Lineage（音楽的系譜の樹形図）

RHCPから始まり、どのように自分のルーツが変遷し、現在のクリープハイプへと繋がっているのか。自身の音楽的アイデンティティの進化を、美しいネットワークグラフで描画する。

#### 楽曲構造データの統合

BPM・キーなどの音響特徴量を外部データソースから取得し、The Vaultの地層にさらなる奥行きを加える。

### 3.3 フェーズ3: アルゴリズムへの反逆 (Anti-Algorithmic Discovery)

プラットフォームのビジネスロジックを排除し、自身のライブラリとのセレンディピティ（偶然の幸運）を意図的に引き起こす。

#### Time Capsule（タイムカプセル）

世間のトレンドとは無関係に、「数年間全く再生していないが、過去の再生回数が上位5%に入っている曲」を不意に通知する。過去の自分の熱量との再会を演出する。

#### Beautiful Noise（意図的なバグ的キュレーション）

完璧に調和したプレイリストの途中に、BPMやキーの法則から大きく逸脱した「異物（ただし過去のフェイバリット）」を意図的に挿入し、聴覚的な摩擦と驚きを生み出す。

## 4. データソースと技術的制約

企画の根幹に関わる最重要課題。再生履歴・楽曲メタデータの取得手段によって、実現可能な機能の範囲が決定される。

### 4.1 再生履歴の取得

| 手段 | メリット | 制約 |
|------|----------|------|
| Spotify Web API (Recently Played) | 公式API、認証フローが確立 | 直近50件のみ。累計再生回数は取得不可 |
| Spotify Extended Streaming History | 過去数年分の全履歴をJSON形式で取得可能 | ユーザーが手動でリクエスト→**最大30日以上の待ち**→インポートという手順が必要。さらにデータ破損・欠落期間・空ファイルが頻発する（後述） |
| Last.fm Scrobble API | 長期間の再生履歴蓄積に実績あり。リアルタイムscrobblingも可能 | ユーザーがLast.fm連携を事前に有効化している必要がある |
| Spotify Web API ポーリング | Recently Playedを定期的にポーリングし自前DBに蓄積 | APIレート制限あり。サーバーサイドでのバックグラウンド処理が必要 |

#### Extended Streaming Historyの現実的な障壁

Spotify Extended Streaming HistoryはStrataのコアデータソースだが、ユーザー体験上の深刻な課題がある:

- **長い待ち時間**: 公称30日、実際にはそれ以上かかるケースが頻発。メールが届かないユーザーも
- **データ品質の問題**: 空のzipファイル、特定期間の欠落、`offline_timestamp`の単位が途中で秒→ミリ秒に変わる等のフォーマット不整合
- **重複データ**: リイシュー盤やデラックス版による重複エントリ（あるユーザーの報告では537アルバム→重複排除後497）
- **ダウンロードリンクの不具合**: リンクがリクエストページに戻るループが発生するケースあり

**推奨アプローチ**: Extended Streaming Historyのインポートをリッチ体験の中核に据えつつ、**JSONが手元にないユーザーにも即座に価値を提供する段階的オンボーディング**を設計する（セクション6参照）。継続的な記録にはSpotify APIポーリング（またはLast.fm連携）を併用する。

### 4.2 楽曲メタデータ（BPM・キー等）

- Spotify Audio Features APIは2024年に一般開発者向けアクセスが制限された
- 代替手段として以下を検討する必要がある:
  - **MusicBrainz / AcousticBrainz**: オープンソースの楽曲メタデータベース
  - **Essentia（自前解析）**: オープンソースの音響解析ライブラリによるBPM・キー推定
  - **Spotify APIの限定的利用**: パートナー申請による拡張アクセスの取得

### 4.3 API利用規約上の注意

- Spotifyの利用規約では、取得したデータの長期保存やSpotify外での表示に制限がある
- 「ユーザー自身のデータをユーザー自身のために保存・表示する」という設計思想を規約遵守の観点から明確にしておく

## 5. 競合分析と差別化

### 5.1 既存サービス

#### 統計・分析系

| サービス | 概要 | Strataとの差異 |
|----------|------|---------------|
| stats.fm (旧Spotistats) | Spotify再生統計の可視化 | 統計表示が主。時間軸での深掘りやキュレーション機能なし。**攻撃的なプレミアム課金UI**がTrustpilotで酷評されている |
| Last.fm | Scrobbleベースの長期履歴蓄積 | ソーシャル機能が中心。データの視覚的探索体験が弱い。scrobble欠損問題が慢性的（あるユーザーはDiscordで7,000再生、Last.fmでは52再生と乖離） |
| Volt.fm | ビジュアル重視の再生統計カード生成 | SNS共有が前提。パーソナルアーカイブとしての深さがない |

#### バイラル・ビジュアル共有系

| サービス | 概要 | Strataへの示唆 |
|----------|------|---------------|
| Receiptify | 再生履歴のレシート風画像生成 | スナップショット的だが、共有フォーマットのバイラル力を実証。ソーシャル機能なしでも拡散できることの証左 |
| Instafest | Top Artistsからフェス風ラインナップポスターを生成 | 「自分だけのフェスに行きたい」という欲求を突いてバイラル化。ビジュアルの魅力がユーザー獲得を駆動 |
| Icebergify | アーティストをメジャー↔マイナーの氷山図で可視化 | 「音楽的深さ」の自己表現需要を証明。共有したくなるビジュアル |

#### セルフホスト・データ主権系

| サービス | 概要 | Strataとの差異 |
|----------|------|---------------|
| Maloja | セルフホスト型scrobbler。ソーシャル機能なし | Strataと最も近い思想（「自分と音楽の1対1」）。ただしセルフホスト前提でITリテラシーの高いユーザーに限定される。Strataはこの思想をWebアプリとして誰でも使える形で提供する |

### 5.2 Strataの差別化ポイント

**MVP段階での差別化:**

1. **ソーシャル機能の意図的排除**: 他者との比較や共有ではなく、「自分と音楽の1対1の対話」に特化
2. **時間軸を中心とした体験設計**: 単なる統計ではなく、「熱量の地層」として数年分の音楽史を追体験できる
3. **リスニングパターンの発見**: 時間帯・曜日・季節ごとの聴取傾向の可視化は既存サービスにない切り口

**長期的な差別化（フェーズ2〜3）:**

4. **アンチ・アルゴリズム・キュレーション**: Time CapsuleやBeautiful Noiseなど、プラットフォームのレコメンドとは正反対のアプローチ
5. **音楽的系譜の可視化**: Sonic Lineageによる自身の音楽的ルーツの樹形図描画

## 6. MVP（最小実行可能製品）の定義

再生履歴の分析だけでもユーザーに十分な価値を提供できる。BPM・キーなどの音響データは「あれば面白い」が、ユーザーの感情に刺さるのは**自分自身の行動の記録**である。MVPは再生履歴の深掘りに特化し、開発の初速を最大化する。

### 設計思想: 再生履歴特化のアプローチ

再生履歴データとSpotify APIのメタデータだけで以下が実現できる:

- **累計再生回数ランキング**: Spotifyが隠している「真のTop曲/アーティスト」の復元
- **Fandom Heatmap**: いつ、誰を、どれだけ聴いたかの地層。これだけで「あの頃の自分」が見える
- **リスニングパターン分析**: 深夜に聴く曲 vs 朝に聴く曲、季節ごとの変遷

stats.fmが「今のスナップショット」中心であるのに対し、Strataは**時間軸での深掘り**と**エモーショナルな可視化**に振り切ることで差別化する。

### MVP スコープ（v0: 再生履歴特化）

#### 段階的オンボーディング

Extended Streaming Historyの取得には最大30日以上かかるため、**JSONが手元にないユーザーにも初日から価値を提供する**二段構えの体験を設計する。

##### ステージ1: 即時体験（OAuth認証直後）

- Spotify APIから**Top Tracks / Top Artists**（short_term / medium_term / long_term）を即座に取得
- **Recently Played**（直近50件）を取得し、直近のリスニング傾向を表示
- これだけで「自分のTop 50」「最近のリスニング傾向」が見られる即時的な価値を提供
- Extended Streaming Historyのリクエスト方法をガイドし、JSONインポートへ誘導

##### ステージ2: リッチ体験（JSONインポート後）

- Extended Streaming Historyをアップロードすると、過去数年分の地層が解放される
- ステージ1のデータとマージし、完全なThe VaultとFandom Heatmapが利用可能に

#### 機能一覧

1. **Spotify OAuth認証**: ログイン、Top Tracks/Artists・Recently Played・プレイリスト・楽曲メタデータ（ジャケット画像、ジャンル等）の取得
2. **Spotify Extended Streaming History インポート**: ユーザーがSpotifyからダウンロードしたJSON履歴データのアップロード・パース・クリーニング（重複排除、フォーマット不整合の正規化）。OAuthで取得したメタデータと紐付けてリッチなデータに変換
3. **The Vault（基本版）**: アーティスト/楽曲ごとの累計再生回数、ジャケット画像・ジャンル付きの一覧表示、フィルタリング・ソート
4. **Fandom Heatmap（基本版）**: 特定アーティストの再生頻度を時間軸で可視化（GitHubの草スタイル）
5. **リスニングパターン**: 時間帯別・曜日別・季節別の再生傾向の可視化
6. **共有用ビジュアルエクスポート**: Heatmap画像、リスニングレシート等の画像生成・ダウンロード（セクション7.2参照）

### MVP から除外するもの（後続フェーズに先送り）

- Continuous Scrobbling（リアルタイム監視）
- BPM・キーなどの音響特徴量の表示
- Sonic Lineage（ネットワークグラフ）
- Time Capsule / Beautiful Noise

## 7. ビジネスモデル

### 7.1 収益化の方向性（要検討）

| モデル | 概要 | 適合度 |
|--------|------|--------|
| フリーミアム | 基本機能は無料、高度な分析・可視化をPro版で提供 | ◎ ターゲット層のITリテラシーの高さと合致 |
| 買い切り | 一度の購入で全機能開放 | ○ 「所有」のコンセプトと親和性が高い |
| サブスクリプション | 月額/年額課金 | △ 「サブスクへのアンチテーゼ」というビジョンと矛盾する可能性 |

#### 課金UXの方針: stats.fmの反面教師

stats.fmはTrustpilotで「5秒ごとにPremiumを勧めてくる。本当に耐えられない」と酷評されている。基本的な自分のデータを見るだけで課金を要求するUXは、Strataの「自分のデータを取り戻す」というビジョンと真っ向から矛盾する。

Strataの方針:

- **基本統計は完全無料**: 自分の再生履歴・Vault・Heatmapの閲覧に課金壁を設けない
- **Pro版は「より深い分析」に限定**: 高度なフィルタリング、カスタム期間比較、エクスポート形式の拡張等
- **課金勧誘は控えめに**: Pro機能の存在は示すが、利用の邪魔をしない。stats.fmとの差別化ポイントとして明確に打ち出す

### 7.2 ユーザー獲得戦略

ソーシャル機能を排除しているため、アプリ内でのバイラル成長は見込めない。しかし、Receiptify / Instafest / Icebergifyの成功が証明したように、**共有可能なビジュアルフォーマット**はソーシャル機能なしでもバイラルを起こせる。これがStrataの最大のグロースレバーとなる。

#### ビジュアル共有フォーマット（グロースの核）

ユーザーが自発的にSNSに投稿したくなる画像エクスポート機能。共有の強制はしない。

- **Fandom Heatmap画像**: 自分の「熱狂の地層」を1枚の画像でエクスポート。GitHubの草グラフの音楽版として認知を狙う
- **Strata Receipt（リスニングレシート）**: Receiptifyのように特定期間のTop Tracksをレシート風に生成。Strataブランドの透かし入り
- **Listening Iceberg（音楽アイスバーグ）**: 再生回数の多寡でアーティストを氷山図に配置。「どれだけディープか」を可視化

#### その他の獲得チャネル

- **コンテンツマーケティング**: 音楽データの分析記事、「自分の音楽史を可視化してみた」的なブログ/動画
- **音楽コミュニティへの直接アプローチ**: Reddit (r/spotify, r/musicdata)、音楽系Discordサーバー
- **Wrapped代替としての季節的需要**: 毎年12月のWrapped時期に「Wrappedに満足できなかった人向け」として訴求

## 8. プラットフォーム戦略

| プラットフォーム | 優先度 | 理由 |
|----------------|--------|------|
| Webアプリ | **最優先** | クロスプラットフォーム。MVP検証に最適。開発コストが低い |
| PWA（Progressive Web App） | 中期 | Web技術ベースでプッシュ通知やオフライン対応が可能。Time Capsule通知に必要 |
| モバイルアプリ（ネイティブ） | 長期 | Continuous Scrobblingのバックグラウンド実行に必要。ただしMVPには不要 |

## 9. データプライバシーとストレージ

### 9.1 設計方針

「パーソナル・アーカイブ」の思想に基づき、データの所在を明確に分離する。

- **再生履歴データ（ユーザー固有）**: サーバーサイドDB（ユーザーアカウントに紐付け）に保存。IndexedDBはオフラインキャッシュとして活用
- **楽曲メタデータ（ジャケット画像、ジャンル等）**: Spotify APIから都度取得、サーバーサイドでキャッシュ。Spotify利用規約に準拠しローカルへの永続保存は避ける
- **認証トークン**: サーバーサイドで安全に管理。クライアントにはセッションIDのみ
- データエクスポート機能を標準搭載し、ユーザーのデータポータビリティを保証

### 9.2 規制対応

- GDPR（EU一般データ保護規則）: データ削除リクエストへの対応、プライバシーポリシーの整備
- ユーザーはいつでも自身のデータを完全にエクスポート・削除できる設計とする

## 10. UI/UXデザイン方針

### 10.1 トーン&マナー

プロダクトビジョンの「オールドレンズが描くようなエモーショナルなノイズ」を体現するデザイン言語:

- **カラーパレット**: ダークベース。地層を想起させるアースカラー（琥珀、深緑、スレートグレー）をアクセントに
- **タイポグラフィ**: クリーンでデータの可読性を優先。Vault のデータテーブルはモノスペース系
- **ビジュアルモチーフ**: 地層の断面、堆積、深度。時間の経過を「下に掘る」メタファーで表現
- **インタラクション**: 静謐で内省的。派手なアニメーションよりも、データに没入できる落ち着いた動き

### 10.2 Heatmapのビジュアル設計

- GitHubの草グラフを踏襲しつつ、色の強度で「熱狂度」を表現
- 色相は地層のメタファーに合わせて暖色系のグラデーション（淡いベージュ → 深い琥珀 → 赤褐色）

## 11. リスクと依存関係

プロダクトの根幹がSpotifyエコシステムに依存しているため、以下のリスクを認識し対策を講じる。

| リスク | 影響度 | 対策 |
| ------ | ------ | ---- |
| Spotify APIの仕様変更・廃止 | 高 | APIレスポンスの抽象化レイヤーを設け、変更時の影響範囲を限定。将来的にApple Music等のマルチソース対応も視野に |
| Extended Streaming HistoryのJSON形式変更 | 中 | パーサーをバージョン管理し、複数フォーマットに対応できる設計に |
| Spotify拡張クォータ申請の審査 | 高 | 25人超のユーザーにはExtended Quota Modeの承認が必要。MVP段階で早期に申請を開始する |
| APIレート制限 | 中 | メタデータのサーバーサイドキャッシュ、バッチ処理による効率化 |

## 12. 成功指標（KPI）

| 指標 | MVP段階の目標 | 計測方法 |
|------|-------------|----------|
| 履歴インポート完了率 | 50%以上 | JSONアップロード→パース成功のコンバージョン。手動ダウンロード→アップロードのハードルを考慮 |
| Vault閲覧のセッション時間 | 5分以上 | ユーザーがデータを探索している時間 |
| 7日後リテンション率 | 30%以上 | 初回利用から7日後に再訪問するユーザーの割合 |
| Heatmap画像エクスポート率 | 10%以上 | 自発的に共有用画像を生成したユーザーの割合 |
